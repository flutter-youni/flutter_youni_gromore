# ğŸ”¥ğŸ”¥ğŸ”¥ç©¿å±±ç”²Gromoreçš„Flutteræ’ä»¶ï¼ˆç”±ä½ å›¢é˜Ÿå‡ºå“ï¼‰

<p>
<a href="https://pub.flutter-io.cn/packages/flutter_youni_gromore"><img src=https://img.shields.io/pub/v/flutter_youni_gromore?color=orange></a>
<a href="https://pub.flutter-io.cn/packages/flutter_youni_gromore"><img src=https://img.shields.io/pub/likes/flutter_youni_gromore></a>
<a href="https://pub.flutter-io.cn/packages/flutter_youni_gromore"><img src=https://img.shields.io/pub/points/flutter_youni_gromore></a>
<a href="https://github.com/flutter-youni/flutter_youni_gromore/commits"><img src=https://img.shields.io/github/last-commit/flutter-youni/flutter_youni_gromore></a>
<a href="https://github.com/flutter-youni/flutter_youni_gromore"><img src=https://img.shields.io/github/stars/flutter-youni/flutter_youni_gromore></a>
</p>


## ç®€ä»‹

**Gromoreæœ€æ–°ç‰ˆæœ¬**çš„Flutteræ’ä»¶ï¼Œæˆ‘ä»¬æ˜¯ä¸€ä¸ªè‡´åŠ›äºæœåŠ¡ç‹¬ç«‹å¼€å‘è€…çš„å›¢é˜Ÿï¼Œè¿™ä¸ªæ’ä»¶æˆ‘ä»¬ä¼šä¸€ç›´ç»´æŠ¤ã€‚

åˆ›ä¸šè¿‡ç¨‹ä¸­æˆ‘ä»¬è§£å†³äº†å„ç§å¤§å¤§å°å°çš„é—®é¢˜ï¼Œæˆ‘å¸Œæœ›æˆ‘ä»¬çš„åˆ›ä¸šç»éªŒèƒ½è®©ä½ å°‘èµ°å¼¯è·¯ï¼Œé‡åˆ°ä»»ä½•å’Œåˆ›ä¸šç›¸å…³çš„é—®é¢˜éƒ½å¯ä»¥å’¨è¯¢æˆ‘ä»¬ï¼Œä¸‡ä¸€æˆ‘ä»¬é‡åˆ°è¿‡å‘¢ã€‚

* å¦‚æœä½ æƒ³åšä¸€ä¸ªå°é¡¹ç›®éœ€è¦èµ„é‡‘è”ç³»æˆ‘ä»¬
* å¦‚æœä½ æœ‰ä¸ªæƒ³æ³•ï¼Œéœ€è¦å¼€å‘è€…å’Œè¿è¥è”ç³»æˆ‘ä»¬
* å¦‚æœä½ å·²ç»æœ‰å¼€å‘å¥½äº†ä¸€ä¸ªåº”ç”¨ï¼Œéœ€è¦ä¸€ä¸ªå…¬å¸ä¸Šæ¶è”ç³»æˆ‘ä»¬
* å¦‚æœä½ æƒ³æ‰¾ä¸ªå…¬å¸æ¥å¹¿å‘Šï¼Œæˆ‘ä»¬åªæ”¶10%ï¼Œè¿™ä¸ªä»·æ ¼å…¨ç½‘ä¹Ÿéš¾æ‰¾

## ä¸ºä»€ä¹ˆé€‰æ‹©æ–°ç‰ˆæœ¬çš„Gromoreï¼Ÿ

1ã€è€ç‰ˆæœ¬ä¼šé¢ä¸´è¢«ä¸‹æ¶çš„é£é™©ï¼Œè€ç‰ˆæœ¬çš„ç©¿ä¸Šç”²ç‰ˆæœ¬æœ‰è¿‡åº¦è·å–éšç§ä½ç½®éšç§çš„é—®é¢˜ã€‚

<img src="https://github.com/flutter-youni/flutter_youni_gromore/blob/master/readme_image/162448.png" alt="WX20240415-162448@2x" style="zoom:50%;" />

2ã€ä¼šæé«˜æ”¶å…¥ï¼Œå¦‚æœæ˜¯å¤§çš„æ´»åŠ¨ï¼Œæ¯”å¦‚åŒ11ï¼Œgromoreéƒ½ä¼šé’ˆå¯¹è¿™ä¸ªç‰ˆæœ¬è¿›è¡Œæ›´æ–°ï¼Œæ–°ç‰ˆæœ¬çš„cpméƒ½ä¼šæœ‰10%çš„æå‡

<img src="https://github.com/flutter-youni/flutter_youni_gromore/blob/master/readme_image/64346708.png" alt="image-20240415164346708" style="zoom: 33%;" />

## æ”¯æŒå¹³å°

- âœ… **Android**
- âœ… **iOS**

## æ”¯æŒå¹¿å‘Š

- âœ… **å¼€å±å¹¿å‘Š**
- âœ… **æ’å±å¹¿å‘Š**
- âœ… **æ¿€åŠ±å¹¿å‘Š**
- âœ… **Bannerå¹¿å‘Š**
- â**ä¿¡æ¯æµå¹¿å‘Š**

## æ¥å…¥æ–¹æ³•

ä¸‹é¢å°†åˆ†æˆAndroidå’ŒiOSä¸€äº›é…ç½®ï¼Œ**Androidå’ŒiOSæ¥å…¥Flutterçš„æ­¥éª¤éƒ½æ˜¯ç›¸åŒçš„**ï¼›

### Androidæ¥å…¥æ–¹æ³•

Androidçš„æ¥å…¥åˆ†æˆ2ä¸ªæ­¥éª¤

1ã€é…ç½®AndroidManifestï¼ŒåŒ…æ‹¬æ·»åŠ æƒé™å’Œproviderï¼›

2ã€Gradleéœ€è¦çš„é…ç½®ï¼›

#### æ­¥éª¤1ï¼šé…ç½®AndroidManifest

1ã€éœ€è¦å†AndroidManifestæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹æƒé™ï¼›

```xml
<uses-permission android:name="android.permission.INTERNET" /> 
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />   
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES" /> 
<uses-permission android:name="android.permission.READ_PHONE_STATE" />  
```

2ã€èµ„æºæ–‡ä»¶é…ç½®ï¼Œä¸‹é¢åªåŒ…æ‹¬äº†ç©¿å±±ç”²å’Œä¼˜é‡æ±‡çš„é…ç½®ï¼Œå¦‚æœå•ç‹¬éœ€è¦ç©¿å±±ç”²æˆ–è€…ä¼˜é‡æ±‡ï¼Œå¯ä»¥åˆ†åˆ«å•ç‹¬æ·»åŠ é…ç½®ï¼Œå¦‚æœéœ€è¦é…ç½®å¿«æ‰‹ã€ç™¾åº¦ç­‰å¹³å°è¯·å‚è€ƒ[å¦‚ä½•æ¥å…¥å¿«æ‰‹ã€ç™¾åº¦ç­‰å¹³å°çš„å¹¿å‘Š](https://www.csjplatform.com/union/media/union/download/detail?id=142&docId=27562&osType=android)

* ç©¿å±±ç”²å’Œä¼˜é‡æ±‡çš„provideré…ç½®ï¼Œå…·ä½“å¯ä»¥å‚è€ƒflutter_youni_gromoreçš„Android demo

```xml
<!-- ç©¿å±±ç”² start================== -->
        <provider
            android:name="com.bytedance.sdk.openadsdk.TTFileProvider"
            android:authorities="${applicationId}.TTFileProvider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/pangle_file_paths" />
        </provider>

        <provider
            android:name="com.bytedance.sdk.openadsdk.multipro.TTMultiProvider"
            android:authorities="${applicationId}.TTMultiProvider"
            android:exported="false" />
        <!-- ç©¿å±±ç”² end================== -->

<!-- GDT start================== -->
<!-- targetSDKVersion >= 24æ—¶æ‰éœ€è¦æ·»åŠ è¿™ä¸ªproviderã€‚providerçš„authoritieså±æ€§çš„å€¼ä¸º${applicationId}.fileproviderï¼Œè¯·å¼€å‘è€…æ ¹æ®è‡ªå·±çš„${applicationId}æ¥è®¾ç½®è¿™ä¸ªå€¼ï¼Œä¾‹å¦‚æœ¬ä¾‹ä¸­applicationIdä¸º"com.qq.e.union.demo"ã€‚ -->
        <provider
            android:name="com.qq.e.comm.GDTFileProvider"
            android:authorities="${applicationId}.gdt.fileprovider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/gdt_file_path" />
        </provider>    
<activity
        android:name="com.qq.e.ads.PortraitADActivity"
        android:configChanges="keyboard|keyboardHidden|orientation|screenSize"
        android:screenOrientation="portrait" />
    <activity
        android:name="com.qq.e.ads.LandscapeADActivity"
        android:configChanges="keyboard|keyboardHidden|orientation|screenSize"
        android:screenOrientation="landscape"
        tools:replace="android:screenOrientation" />

    <!-- å£°æ˜SDKæ‰€éœ€è¦çš„ç»„ä»¶ -->
    <service
        android:name="com.qq.e.comm.DownloadService"
        android:exported="false" />
    <!-- è¯·å¼€å‘è€…æ³¨æ„å­—æ¯çš„å¤§å°å†™ï¼ŒADActivityï¼Œè€Œä¸æ˜¯AdActivity -->

    <activity
        android:name="com.qq.e.ads.ADActivity"
        android:configChanges="keyboard|keyboardHidden|orientation|screenSize" />
    <!-- GDT end================== -->
```

* è¿™ä¸ªæ­¥éª¤æ˜¯é…ç½®`android.support.FILE_PROVIDER_PATHS`éœ€è¦é¢xmlæ–‡ä»¶ï¼Œres/xmlç›®å½•ä¸‹æ·»åŠ ä¸¤ä¸ªä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åç§°æ˜¯`pangle_file_paths.xml`å’Œ`gdt_file_path.xml`

  ä¸‹é¢æ˜¯`pangle_file_paths.xml`æ–‡ä»¶å†…å®¹

  ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <paths>
       <external-path name="tt_external_root" path="." />
       <external-path name="tt_external_download" path="Download" />
       <external-files-path name="tt_external_files_download" path="Download" />
       <files-path name="tt_internal_file_download" path="Download" />
       <cache-path name="tt_internal_cache_download" path="Download" />
   </paths>
  ```
  
  ä¸‹é¢æ˜¯`gdt_file_path.xml`æ–‡ä»¶å†…å®¹
  
  ```xml
  <paths>
      <!-- è¿™ä¸ªä¸‹è½½è·¯å¾„ä¹Ÿä¸å¯ä»¥ä¿®æ”¹ï¼Œå¿…é¡»ä¸ºcom_qq_e_download -->
      <external-cache-path
          name="gdt_sdk_download_path1"
          path="com_qq_e_download" />
      <cache-path
          name="gdt_sdk_download_path2"
          path="com_qq_e_download" />
  </paths>
  ```
  
  #### æ­¥éª¤2ï¼šé…ç½®Gradle
  
  1ã€åœ¨rallprojectså’Œbuildscriptä¸‹é¢æ·»ç©¿ä¸Šç”²çš„maven
  
  ```groovy
  buildscript {
      repositories {
          maven {
              url "https://artifact.bytedance.com/repository/pangle"
          }
      }
  }
  
  rootProject.allprojects {
      repositories {
          maven {
              url "https://artifact.bytedance.com/repository/pangle"
          }
      }
  }
  ```
  
  2ã€æ·»åŠ ä¾èµ–åº“
  
  ```groovy
  dependencies {
      implementation "com.pangle.cn:mediation-sdk:5.9.2.8"//èåˆåŸºç¡€åŒ…ï¼Œå¿…é¡»å¼•å…¥
    
      implementation "com.qq.e.union:union:4.540.1410"// æ·»åŠ ä¼˜é‡æ±‡çš„å¹¿å‘ŠSDK
    	implementation "com.pangle.cn:mediation-gdt-adapter:4.540.1410.3"//æ·»åŠ ä¼˜é‡æ±‡çš„adapter
  } 
  ```
  
  ### iOSæ¥å…¥æ–¹æ³•
  
  Androidçš„æ¥å…¥åˆ†æˆ2ä¸ªæ­¥éª¤
  
  1ã€æ·»åŠ podä¾èµ–ï¼›
  
  2ã€åœ¨`Info.plist`æ–‡ä»¶ä¸­æ·»åŠ æƒé™ï¼›
  
  #### æ­¥éª¤1ï¼šæ·»åŠ podä¾èµ–
  
  åœ¨`Podfile`æ–‡ä»¶ä¸­æ·»åŠ ç©¿å±±ç”²å’Œä¼˜é‡æ±‡çš„podä¾èµ–ï¼Œå¯ä»¥å‚è€ƒflutter_youni_gromoreä¸‹çš„iOSdemo
  
  ```pascal
  target 'Runner' do
    pod 'CSJMGdtAdapter', '4.14.63.0'
    pod 'GDTMobSDK','4.14.63'
  end
  ```
  
  #### æ­¥éª¤2ï¼šæ·»åŠ æƒé™
  
  åœ¨iOS14.5ä»¥åæƒ³è¦ä¾æ—§èƒ½ä½¿ç”¨IDFAï¼Œå»ºè®®å¼€å‘è€…åœ¨åˆå§‹åŒ–èšåˆSDKä¹‹å‰è·å–ATTæˆæƒï¼Œä»¥ä¾¿å…è®¸ç”¨æˆ·æˆæƒè·Ÿè¸ªæƒé™ã€‚
  
  é¦–å…ˆï¼Œéœ€è¦åœ¨Appå±‚çº§çš„info.plisté‡Œæ·»åŠ ATTæƒé™æè¿°ï¼š
  
  ```xml
  <key>NSUserTrackingUsageDescription</key>
  	<string>ATTæƒé™ä½¿ç”¨è¯´æ˜ï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œè®¾ç½®æè¿°</string>
  ```
  
  ### Flutteré›†æˆæ­¥éª¤
  
  #### pubspec.yaml
  ```Dart
  flutter_youni_gromore: ^1.0.0
  ```
  #### å¼•å…¥
  ```Dart
  import 'package:flutter_youni_gromore/flutter_youni_gromore.dart';
  ```
  
  ## ä½¿ç”¨
  
  ### SDKåˆå§‹åŒ–
  ```Dart
  WidgetsFlutterBinding.ensureInitialized();
  setGromoreEvent();//è®¾ç½®å¹¿å‘Šç›‘å¬äº‹æƒ…ï¼Œè¿™ä¸ªäº‹ä»¶åŒ…æ‹¬ä¸€äº›é”™è¯¯äº‹ä»¶ã€æ¿€åŠ±è§†é¢‘äº‹ä»¶
  init().then((value) {
      if (value) {
         //å¹¿å‘Šåˆå§‹åŒ–æˆåŠŸäº†æ‰§è¡Œçš„ä¸€äº›åŠ¨ä½œå’Œæ–¹æ³•
      }
  });
  
   Future<bool> init() async {
      try {
        //è¿™ä¸ªæ˜¯å¹¿å‘Šçš„åˆå§‹åŒ–äº‹ä»¶
        bool result = await FlutterYouniGromore.init(
          "å¹¿å‘Šid"
        );
        return result;
      } on PlatformException catch (e) {
      }
      return false;
    }
  ```
  
  ### å¹¿å‘Šç›‘å¬
  
  ```dart
  Future<void> setGromoreEvent() async {
      FlutterYouniGromore.onEventListener((event) {
        //eventä¸­æœ€é‡è¦çš„ä¸¤ä¸ªå±æ€§æ˜¯adIdå’Œactionï¼ŒadIdå°±æ˜¯å¹¿å‘Šä½çš„idï¼Œactionå¯¹åº”æ˜¯å¹¿å‘Šä½çš„è¡Œä¸º
        //è¡Œä¸ºåŒ…æ‹¬ï¼šå¹¿å‘Šé”™è¯¯ã€å¹¿å‘ŠåŠ è½½æˆåŠŸã€å¹¿å‘Šå¡«å……ã€å¹¿å‘Šæ›å…‰ã€å¹¿å‘Šå…³é—­ï¼ˆè®¡æ—¶ç»“æŸæˆ–è€…ç”¨æˆ·ç‚¹å‡»å…³é—­ï¼‰ã€å¹¿å‘Šç‚¹å‡»ã€å¹¿å‘Šè·³è¿‡ã€å¹¿å‘Šæ’­æ”¾æˆ–è®¡æ—¶å®Œæ¯•ã€è·å¾—å¹¿å‘Šæ¿€åŠ± 9ä¸ªè¡Œä¸º
        if (event is GromoreErrorEvent) {
        
        } else if (event is GromoreRewardEvent) {
   
        }
      });
    }
  ```
  
  ä¸‹é¢æ˜¯å¹¿å‘Šè¡Œä¸ºå¯¹åº”çš„åç§°ï¼š
  
  ```dart
  	///å¹¿å‘Šé”™è¯¯
    static const String onAdError = 'onAdError';
    ///å¹¿å‘ŠåŠ è½½æˆåŠŸ
    static const String onAdLoaded = 'onAdLoaded';
    ///å¹¿å‘Šå¡«å……
    static const String onAdPresent = 'onAdPresent';
    ///å¹¿å‘Šæ›å…‰
    static const String onAdExposure = 'onAdExposure';
    ///å¹¿å‘Šå…³é—­ï¼ˆè®¡æ—¶ç»“æŸæˆ–è€…ç”¨æˆ·ç‚¹å‡»å…³é—­ï¼‰
    static const String onAdClosed= 'onAdClosed';
    ///å¹¿å‘Šç‚¹å‡»
    static const String onAdClicked = 'onAdClicked';
    ///å¹¿å‘Šè·³è¿‡
    static const String onAdSkip = 'onAdSkip';
    ///å¹¿å‘Šæ’­æ”¾æˆ–è®¡æ—¶å®Œæ¯•
    static const String onAdComplete = 'onAdComplete';
    ///è·å¾—å¹¿å‘Šæ¿€åŠ±
    static const String onAdReward = 'onAdReward';
  ```
  
  ä¸‹é¢æ˜¯åˆ©ç”¨å¹¿å‘Šç›‘å¬ï¼Œå±•ç¤ºå®Œé—ªå±è·³è½¬åˆ°é¦–é¡µçš„ç¤ºä¾‹ä»£ç 
  
  ```dart
  Future<void> setAdEvent() async {
      FlutterYouniGromore.onEventListener((event) {
        if (event.adId == "å¼€å±å¹¿å‘Šä½id") {//å…ˆåˆ¤æ–­æ˜¯å¼€å±çš„å¹¿å‘Šå¹¿å‘Šä½
          if (event.action == GromoreEventActions.onAdClosed ||
              event.action == GromoreEventActions.onAdSkip ||
              event.action == GromoreEventActions.onAdComplete ||
              event.action == GromoreEventActions.onAdError) {//åˆ¤æ–­å„ç§çš„äº‹ä»¶ç±»å‹ï¼Œç¬¦åˆè¿™äº›æ¡ä»¶çš„æƒ…å†µè·³è½¬åˆ°é¦–é¡µ
            gotoMain();//è·³è½¬åˆ°é¦–é¡µ
          }
        }
      });
    }
  ```
  
  ### å¼€å±å¹¿å‘Š
  
  ```dart
  Future<void> showSplash() async {
      try {
        bool result = await FlutterYouniGromore.showSplash("å¹¿å‘Šä½id");
      } on PlatformException catch (e) {
      }
    }
  ```
  
  ### æ’å±å¹¿å‘Š
  
  ```dart
   Future<void> showInterstitial() async {
      try {
        bool result = await FlutterYouniGromore.showInterstitial("å¹¿å‘Šä½id");
      } on PlatformException catch (e) {
      }
    }
  ```
  
  ### æ¿€åŠ±è§†é¢‘å¹¿å‘Š
  
  ```dart
    Future<void> showReward() async {
      if (!jumpCondition()) {
        return;
      }
      try {
        bool result = await FlutterYouniGromore.showReward(
           "å¹¿å‘Šä½id",
        );
      } on PlatformException catch (e) {
      }
    }
  ```
  ### Banner(æ¨ªå¹…)å¹¿å‘Š
  ```dart
   GromoreBannerWidget(
                  codeId: "å¹¿å‘Šä½id",
                  width: 300,//å¹¿å‘Šçš„å®½åº¦
                  height: 150,//å¹¿å‘Šçš„é«˜åº¦
                ),
  ```
  
  
  
  
  
  





